<style>
  #lang-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin: auto 4px;
    width: 32px;
    height: 28px;
  }

  #lang-toggle svg {
    width: 24px;
    height: 18px;
  }

  #lang-toast {
    position: fixed;
    right: 20px;
    bottom: 20px;
    z-index: 9999;
    padding: 8px 12px;
    border-radius: 8px;
    background: var(--entry);
    color: var(--primary);
    border: 1px solid var(--border);
    font-size: 13px;
    opacity: 0;
    pointer-events: none;
    transform: translateY(8px);
    transition: opacity 0.18s ease, transform 0.18s ease;
  }

  #lang-toast.show {
    opacity: 1;
    transform: translateY(0);
  }
</style>

<script>
  (function () {
    let toastTimer = null;

    function showToast(message) {
      let toast = document.getElementById("lang-toast");
      if (!toast) {
        toast = document.createElement("div");
        toast.id = "lang-toast";
        toast.setAttribute("role", "status");
        toast.setAttribute("aria-live", "polite");
        document.body.appendChild(toast);
      }

      toast.textContent = message;
      toast.classList.add("show");

      if (toastTimer) {
        clearTimeout(toastTimer);
      }

      toastTimer = setTimeout(function () {
        toast.classList.remove("show");
      }, 1800);
    }

    function ensureLangIconButton() {
      if (document.getElementById("lang-toggle")) return;

      const container = document.querySelector(".logo-switches");
      if (!container) return;

      const button = document.createElement("button");
      button.id = "lang-toggle";
      button.type = "button";
      button.setAttribute("aria-label", "Language");
      button.setAttribute("title", "Language");
      button.innerHTML =
        '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="12" cy="12" r="10"></circle><path d="M2 12h20"></path><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>';
      button.addEventListener("click", function () {
        showToast("Translation coming soon");
      });

      if (document.getElementById("theme-toggle")) {
        document.getElementById("theme-toggle").insertAdjacentElement("afterend", button);
      } else {
        container.appendChild(button);
      }
    }

    document.addEventListener("DOMContentLoaded", ensureLangIconButton);
  })();
</script>
